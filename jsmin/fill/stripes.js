"use strict";var isNode="undefined"!=typeof module,fillStripes=function(args){var c=args.c,r=args.r,size=args.size,settings=args.settings,baseRotation=(Object.keys(args).sort().join(","),Object.keys(settings).sort().join("\n"),settings.baseRotation),lineGap=settings.lineGap,lineScale=settings.lineScale,lineSize=settings.lineSize,overallScale=settings.overallScale,varyDuotone=settings.varyDuotone,varyPerLine=settings.varyPerLine,varyPerRegion=settings.varyPerRegion,varyRotation=settings.varyRotation,half=size/2,stage=dom.canvas(size,size),ctx=stage.ctx,canvas=stage.canvas;ctx.translate(half,half),ctx.rotate(baseRotation+r.getNumber(0,varyRotation)),ctx.translate(-half,-half),ctx.fillStyle=varyDuotone?(c.setColourIndex(1),c.getCurrentColour()):c.getRandomColour();var padding=Math.sqrt(half*half*2)-half;ctx.fillRect(-padding,-padding,size+2*padding,size+2*padding);var colour,lsc=lineScale,lsi=lineSize,lg=lineGap;varyPerRegion&&(lsc=.5+r.getNumber(0,overallScale),lsi=1+r.getNumber(0,10)*lsc,lg=2+r.getNumber(0,3)*lsc),varyDuotone&&(colour=c.getNextColour());for(var y=-padding;y<size+padding;)varyPerLine&&(lsi=1+r.getNumber(0,10)*lsc,lg=2+r.getNumber(0,3)*lsc),varyDuotone||(colour=c.getRandomColour()),ctx.fillStyle=colour,ctx.fillRect(-padding,y,size+2*padding,lsi),y+=lsi+lg;return canvas};isNode&&(module.exports=fillStripes);