"use strict";var tunnel_tour_three=function(){var camera,scene,renderer,mouse={x:0,y:0},camPos={x:0,y:0,z:0},sw=window.innerWidth,sh=window.innerHeight;function num(min,max){return Math.random()*(max-min)+min}var sharedGeometry,sharedMaterial,uniforms,segmentIndex=0,segmentLength=200,segmentsInitial=10,vertexShader=["varying vec3 vPosition;","varying vec3 vNormal;","void main() {","  vPosition = position;","  vNormal = normalize(normalMatrix * normal);","  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader=["uniform float time;","uniform vec3 fogColor;","uniform float fogNear;","uniform float fogFar;","varying vec3 vPosition;","varying vec3 vNormal;","void main() {","  float wave1 = sin(vPosition.x * 0.1 + time * 0.001) * 0.5 + 0.5;","  float wave2 = sin(vPosition.y * 0.1 + time * 0.0015 + 2.0) * 0.5 + 0.5;","  float wave3 = sin(vPosition.z * 0.05 + time * 0.0008 + 4.0) * 0.5 + 0.5;","  vec3 green = vec3(0.2, 1.0, 0.3);","  vec3 cyan = vec3(0.0, 1.0, 1.0);","  vec3 white = vec3(1.0, 1.0, 1.0);","  vec3 lightBlue = vec3(0.4, 0.8, 1.0);","  vec3 color1 = mix(green, cyan, wave1);","  vec3 color2 = mix(lightBlue, white, wave2);","  vec3 color = mix(color1, color2, wave3);","  float dist = length(vPosition);","  float pulse = sin(dist * 0.05 - time * 0.002) * 0.2 + 0.8;","  color *= pulse;","  vec3 lightDir = normalize(vec3(0.0, 1.0, 0.5));","  float diff = max(dot(vNormal, lightDir), 0.4);","  color *= diff;","  float depth = gl_FragCoord.z / gl_FragCoord.w;","  float fogFactor = smoothstep(fogNear, fogFar, depth);","  color = mix(color, fogColor, fogFactor);","  gl_FragColor = vec4(color, 1.0);","}"].join("\n"),maxBits=parseInt(num(10,100));function createSection(index){!function(groupPos){var group=new THREE.Group;group.position.set(groupPos.x,groupPos.y,groupPos.z);for(var bits=parseInt(num(3,maxBits)),radius=num(200,300),startAngle=num(0,Math.PI),i=0,il=bits;i<il;i++){var a=startAngle+i/il*Math.PI*2,x=Math.sin(a)*radius,y=Math.cos(a)*radius,box=new THREE.Mesh(sharedGeometry,sharedMaterial);box.position.set(x,y,0),box.rotation.set(0,0,-a),group.add(box)}scene.add(group)}({x:0,y:0,z:index*-segmentLength})}function render(time){camPos.x=100*mouse.x,camPos.y=100*mouse.y,camPos.z-=20,camPos.z%segmentLength==0&&(segmentIndex=-Math.floor(camPos.z/segmentLength),createSection(segmentsInitial+segmentIndex)),camera.position.set(camPos.x,camPos.y,camPos.z),camera.rotation.z=5e-4*time,uniforms.time.value=time,renderer.render(scene,camera),requestAnimationFrame(render)}return{init:function(){(scene=new THREE.Scene).fog=new THREE.Fog(2586,100,1500),scene.background=new THREE.Color(2586),camera=new THREE.PerspectiveCamera(100,sw/sh,1,1e4),scene.add(camera),sharedGeometry=new THREE.BoxGeometry(20,20,100),uniforms={time:{value:0},fogColor:{value:new THREE.Color(2586)},fogNear:{value:100},fogFar:{value:1500}},sharedMaterial=new THREE.ShaderMaterial({uniforms:uniforms,vertexShader:vertexShader,fragmentShader:fragmentShader}),(renderer=new THREE.WebGLRenderer({antialias:!0})).setSize(sw,sh);for(var j=0,jl=segmentsInitial;j<jl;j++)createSection(j);function listen(eventNames,callback,options){for(var i=0;i<eventNames.length;i++)window.addEventListener(eventNames[i],callback,options)}document.body.appendChild(renderer.domElement),listen(["resize"],function(_e){sw=window.innerWidth,sh=window.innerHeight,camera.aspect=sw/sh,camera.updateProjectionMatrix(),renderer.setSize(sw,sh)}),listen(["mousemove"],function(e){mouse.x=e.clientX/sw*2-1,mouse.y=-e.clientY/sh*2+1}),listen(["touchmove"],function(e){e.preventDefault(),e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),mouse.x=e.clientX/sw*2-1,mouse.y=-e.clientY/sh*2+1},{passive:!1}),render(0)},resize:function(){}}};define("tunnel_tour_three",tunnel_tour_three);