"use strict";var isNode="undefined"!=typeof module,r=rand.instance(),c=colours.instance(r),overflow=function(){var size,sw,sh,TAU=2*Math.PI,stage=dom.canvas(1,1),ctx=stage.ctx,polys=[];function createPolygon(){for(var poly={colour:c.getRandomColour(),points:[]},sides=r.getInteger(3,17),radius=r.getNumber(.1,.4),cx=r.getNumber(0,1),cy=r.getNumber(0,1),i=0;i<sides;i++){var angle=i/sides*TAU,x=cx+Math.sin(angle)*radius,y=cy+Math.cos(angle)*radius;poly.points.push({x:x,y:y})}polys.push(poly)}var experiment={stage:stage.canvas,init:function(options){r.setSeed(options.seed||Math.random()),size=options.size,sw=options.sw||size,sh=options.sh||size,stage.setSize(sw,sh),c.getRandomPalette(),createPolygon(),createPolygon(),createPolygon(),polys.forEach(function(poly){ctx.strokeStyle="#ffffffa0",ctx.fillStyle=poly.colour+"40",ctx.beginPath(),poly.points.forEach(function(_ref,i){var x=_ref.x,y=_ref.y,xs=x*sw,ys=y*sh;i?ctx.lineTo(xs,ys):ctx.moveTo(xs,ys)}),ctx.closePath(),ctx.stroke(),ctx.fill()}),polys.forEach(function(poly){ctx.strokeStyle=poly.colour,ctx.beginPath(),poly.points.forEach(function(_ref2,i){var x=_ref2.x,y=_ref2.y,xs=x*sw,ys=y*sh;polys.forEach(function(otherPoly){poly===otherPoly||geom.pointInPolygon(otherPoly.points,{x:x,y:y})&&(ctx.fillStyle="#ff000080",ctx.fillRect(xs-10,ys-10,20,20))})})})}};return progress("render:complete",stage.canvas),experiment};isNode?module.exports=overflow():define("overflow",overflow);