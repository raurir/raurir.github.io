(function(){var can,ctx,d,draw,init,seeds;d=document,can=ctx=null,seeds=[],init=function(){var i,_i;for((can=d.createElement("canvas")).width=can.height=400,d.body.appendChild(can),ctx=can.getContext("2d"),i=_i=0;_i<4;i=_i+=1)seeds[i]=Math.pow(2,i+1)+10*(2*Math.random()-1);return draw()},draw=function(time){var b,i,o,r,v,vs,x,y,_i,_j,_k;for(can.width=can.width,vs=[],x=_i=0;_i<200;x=_i+=1){for(i=_j=v=0;_j<4;i=_j+=1)y=200+100*(o=Math.sin((time/10+x)*seeds[i]*.01)/Math.pow(2,i+1)),r=100+50*i,b=200-50*i,ctx.fillStyle="rgba("+r+",0,"+b+",0.5)",ctx.fillRect(2*x,y,2,2),v+=o;vs.push(v)}for(x=_k=0;_k<200;x=_k+=1)y=200+200*(v=vs[x])/4,b=255-(r=255*x/200),ctx.fillStyle="rgb("+r+",0,"+b+")",ctx.fillRect(2*x,y,10,10);return requestAnimationFrame(draw)},init()}).call(this);